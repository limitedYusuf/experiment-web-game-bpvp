<!DOCTYPE html>
<html lang="en">

   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Game Clicker</title>
      <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.15/dist/tailwind.min.css" rel="stylesheet">
   </head>

   <body class="bg-gray-200 min-h-screen flex items-center justify-center">
      <div id="app">
         <div class="text-center" v-if="!gameStarted">
            <h1 class="text-3xl font-semibold mb-4">Seberapa lemot anda</h1>
            <p class="text-lg mb-2">Pilih tingkat kesulitan:</p>
            <button @click="startGame('easy')"
               class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded mr-4">Easy</button>
            <button @click="startGame('medium')"
               class="bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded mr-4">Medium</button>
            <button @click="startGame('hard')"
               class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded">Hard</button>
         </div>
         <div v-else>
            <div v-if="challengeActive">
            <h1 class="text-3xl font-semibold mb-4">Seberapa lemot anda</h1>
            <p class="text-lg mb-2">Poin: {{ points }}</p>
            <p class="text-lg mb-2">Level: {{ level }}</p>
            <p class="text-lg mb-2" v-if="!gameWon">Waktu Tersisa: {{ challengeTime }} detik</p>
            <button @click="clickButton"
               class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Klik Saya!</button>
            <div class="text-center mt-4">
               <p class="text-lg mb-2">{{ challengeText }}</p>
            </div>
            </div>
            <div v-if="gameOver || gameWon" class="text-center mt-4">
               <p class="text-2xl text-red-500 font-semibold">{{ gameWon ? "Anda menang!" : "Game Over" }}</p>
               <button @click="restartGame"
                  class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mt-2">Ulangi
                  Permainan</button>
            </div>
         </div>
      </div>
      <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14"></script>
      <script>
         new Vue({
            el: "#app",
            data: {
               points: 0,
               level: 1,
               challengeActive: false,
               challengeText: "",
               challengeTime: 0,
               gameOver: false,
               gameStarted: false,
               challengePoints: 0,
               challengeLevel: "",
               gameWon: false,
            },
            methods: {
               clickButton() {
                  this.points += this.level === "easy" ? 1 : this.level === "medium" ? 2 : 3;

                  if (this.challengeActive && this.points >= this.challengePoints) {
                     this.challengeActive = false;
                     this.challengeText = "Anda jago!";
                     this.gameWon = true;
                  }

                  if (this.challengeActive && this.points < this.challengePoints && this.challengeTime <= 0) {
                     this.challengeActive = false;
                     this.gameOver = true;
                  }
               },
               startGame(level) {
                  this.gameStarted = true;
                  this.points = 0;
                  this.level = level;
                  this.challengeActive = true;
                  this.challengeLevel = level;
                  this.challengePoints = this.getPointsRequired();
                  this.challengeText = `Tantangan: Capai Level ${level} dengan ${this.challengePoints} poin dalam waktu ${level === "easy" ? "30" : level === "medium" ? "60" : "90"
                     } detik`;
                  this.startTimer(level);
               },
               getPointsRequired() {
                  if (this.level === "easy") {
                     return 5;
                  } else if (this.level === "medium") {
                     return 100;
                  } else if (this.level === "hard") {
                     return 150;
                  }
               },
               startTimer(level) {
                  const targetTime = level === "easy" ? 30 : level === "medium" ? 60 : 90;
                  this.challengeTime = targetTime;
                  const timerInterval = setInterval(() => {
                     if (this.challengeTime > 0) {
                        this.challengeTime--;
                     } else {
                        clearInterval(timerInterval);
                        if (this.challengeActive && this.points < this.challengePoints) {
                           this.challengeActive = false;
                           this.gameOver = true;
                        }
                     }
                  }, 1000);
               },
               restartGame() {
                  this.gameStarted = false;
                  this.points = 0;
                  this.level = 1;
                  this.challengeActive = false;
                  this.challengeText = "";
                  this.gameOver = false;
                  this.gameWon = false;
               }
            }
         });
      </script>
   </body>

</html>